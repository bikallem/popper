<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Popper (popper.Popper)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">popper</a> &#x00BB; Popper</nav><h1>Module <code>Popper</code></h1><p>Popper is an OCaml testing library that can be used for writing simple unit-tests as well as property-based ones.</p><nav class="toc"><ul><li><a href="#modules">Modules</a></li><li><a href="#types-and-exceptions">Types and exceptions</a></li><li><a href="#constructing-tests">Constructing tests</a></li><li><a href="#propositions">Propositions</a></li><li><a href="#running-tests">Running tests</a></li></ul></nav></header><section><header><h2 id="modules"><a href="#modules" class="anchor"></a>Modules</h2></header><div class="spec module" id="module-Comparator"><a href="#module-Comparator" class="anchor"></a><code><span class="keyword">module</span> <a href="Comparator/index.html">Comparator</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Consumed"><a href="#module-Consumed" class="anchor"></a><code><span class="keyword">module</span> <a href="Consumed/index.html">Consumed</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Sample"><a href="#module-Sample" class="anchor"></a><code><span class="keyword">module</span> <a href="Sample/index.html">Sample</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Proposition"><a href="#module-Proposition" class="anchor"></a><code><span class="keyword">module</span> <a href="Proposition/index.html">Proposition</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Test"><a href="#module-Test" class="anchor"></a><code><span class="keyword">module</span> <a href="Test/index.html">Test</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Config"><a href="#module-Config" class="anchor"></a><code><span class="keyword">module</span> <a href="Config/index.html">Config</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h2 id="types-and-exceptions"><a href="#types-and-exceptions" class="anchor"></a>Types and exceptions</h2></header><dl><dt class="spec exception" id="exception-Test_failure"><a href="#exception-Test_failure" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Test_failure</span></code></dt></dl></section><section><header><h2 id="constructing-tests"><a href="#constructing-tests" class="anchor"></a>Constructing tests</h2></header><dl><dt class="spec value" id="val-test"><a href="#val-test" class="anchor"></a><code><span class="keyword">val</span> test : <span>?&#8288;config:<a href="Config/index.html#type-t">Config.t</a></span> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span>)</span> <span>&#45;&gt;</span> <a href="Test/index.html#type-t">Test.t</a></code></dt><dd><p><code>test ?config f</code> creates a test that when run evaluates <code>f</code> that produces a <code>Proposition.t Sample.t</code> value. If the the sample consumes any input, it is run a number of times until it either finds some input value that causes the sample to yield a failing proposition, or until it passes specified number of runs (default is 300). If <code>config</code> is given it takes all the specified overrides into account.</p></dd></dl><dl><dt class="spec value" id="val-suite"><a href="#val-suite" class="anchor"></a><code><span class="keyword">val</span> suite : <span><span>(string * <a href="Test/index.html#type-t">Test.t</a>)</span> list</span> <span>&#45;&gt;</span> <a href="Test/index.html#type-t">Test.t</a></code></dt><dd><p><code>suite ts</code> packs the list of name and test pairs, <code>ts</code>, into a single test suite.</p></dd></dl></section><section><header><h2 id="propositions"><a href="#propositions" class="anchor"></a>Propositions</h2></header><dl><dt class="spec value" id="val-pass"><a href="#val-pass" class="anchor"></a><code><span class="keyword">val</span> pass : <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>pass</code> is a sample that always returns the value <code>pass</code>.</p></dd></dl><dl><dt class="spec value" id="val-fail"><a href="#val-fail" class="anchor"></a><code><span class="keyword">val</span> fail : <span>?&#8288;loc:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>fail ?loc msg</code> is a sample that returns the value <code>fail</code> with location <code>loc</code> if given and error message <code>msg</code>.</p></dd></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <span>?&#8288;loc:string</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Comparator/index.html#type-t">Comparator.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>equal ?loc cmp x y</code> is a sample that returns a proposition that is <code>pass</code> only if <code>x</code> and <code>y</code> are equal using the given comparator <code>cmp</code>. If <code>loc</code> is passed, it reports the location string in case of failure.</p></dd></dl><dl><dt class="spec value" id="val-less_than"><a href="#val-less_than" class="anchor"></a><code><span class="keyword">val</span> less_than : <span>?&#8288;loc:string</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Comparator/index.html#type-t">Comparator.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>less_than ?loc cmp x y</code> is a sample that returns a proposition that is <code>pass</code> only if <code>x</code> is less than <code>y</code>, using the given comparator <code>cmp</code>. If <code>loc</code> is passed, it reports the location string in case of failure.</p></dd></dl><dl><dt class="spec value" id="val-greater_than"><a href="#val-greater_than" class="anchor"></a><code><span class="keyword">val</span> greater_than : <span>?&#8288;loc:string</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Comparator/index.html#type-t">Comparator.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>greater_than ?loc cmp x y</code> is a sample that returns a proposition that is <code>pass</code> only if <code>x</code> is greater than <code>y</code>, using the given comparator <code>cmp</code>. If <code>loc</code> is passed, it reports the location string in case of failure.</p></dd></dl><dl><dt class="spec value" id="val-greater_equal_than"><a href="#val-greater_equal_than" class="anchor"></a><code><span class="keyword">val</span> greater_equal_than : <span>?&#8288;loc:string</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Comparator/index.html#type-t">Comparator.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>greater_equal_than ?loc cmp x y</code> is a sample that returns a proposition that is <code>pass</code> only if <code>x</code> is greater than or equal to <code>y</code>, using the given comparator <code>cmp</code>. If <code>loc</code> is passed, it reports the location string in case of failure.</p></dd></dl><dl><dt class="spec value" id="val-less_equal_than"><a href="#val-less_equal_than" class="anchor"></a><code><span class="keyword">val</span> less_equal_than : <span>?&#8288;loc:string</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Comparator/index.html#type-t">Comparator.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>less_than_equal ?loc cmp x y</code> is a sample that returns a proposition that is <code>pass</code> only if <code>x</code> is less than or equal to <code>y</code>, using the given comparator <code>cmp</code>. If <code>loc</code> is passed, it reports the location string in case of failure.</p></dd></dl><dl><dt class="spec value" id="val-is_true"><a href="#val-is_true" class="anchor"></a><code><span class="keyword">val</span> is_true : <span>?&#8288;loc:string</span> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>is_true ?loc b</code> is a sample that returns a proposition that is <code>pass</code> only if <code>b</code> is true. If <code>loc</code> is passed, it reports the location string in case of failure.</p></dd></dl><dl><dt class="spec value" id="val-is_false"><a href="#val-is_false" class="anchor"></a><code><span class="keyword">val</span> is_false : <span>?&#8288;loc:string</span> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>is_false ?loc b</code> is a sample that returns a proposition that is <code>pass</code> only if <code>b</code> is false. If <code>loc</code> is passed, it reports the location string in case of failure.</p></dd></dl><dl><dt class="spec value" id="val-all"><a href="#val-all" class="anchor"></a><code><span class="keyword">val</span> all : <span><span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span> list</span> <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>all ps</code> combines a list of proposition samples into a sample that only returns pass in case all returned propositions pass.</p></dd></dl><dl><dt class="spec value" id="val-any"><a href="#val-any" class="anchor"></a><code><span class="keyword">val</span> any : <span><span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span> list</span> <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span></code></dt><dd><p><code>any ps</code> combines a list of proposition samples into a single sample that returns pass in case any of the returned propositions pass.</p></dd></dl></section><section><header><h2 id="running-tests"><a href="#running-tests" class="anchor"></a>Running tests</h2></header><dl><dt class="spec value" id="val-check"><a href="#val-check" class="anchor"></a><code><span class="keyword">val</span> check : <span>?&#8288;config:<a href="Config/index.html#type-t">Config.t</a></span> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span><a href="Proposition/index.html#type-t">Proposition.t</a> <a href="Sample/index.html#type-t">Sample.t</a></span>)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>check ?config f</code> runs a single anonymous test using the <code>config</code> settings if given. In case the test fails, an exception of type <code>Test_failure</code> is raised.</p></dd></dl><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <span>?&#8288;config:<a href="Config/index.html#type-t">Config.t</a></span> <span>&#45;&gt;</span> <a href="Test/index.html#type-t">Test.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>run ?config t</code> runs the given test <code>t</code> using the <code>config</code> settings if given. In case the test fails, an exception of type <code>Test_failure</code> is raised.</p></dd></dl></section></div></body></html>